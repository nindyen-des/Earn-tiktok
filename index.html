<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FansTracker Auto Followers - REAL SYSTEM</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
        body{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px}
        .container{max-width:800px;margin:0 auto}
        .header{background:rgba(255,255,255,0.95);padding:25px;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.2);margin-bottom:20px;text-align:center}
        .header h1{color:#333;font-size:28px;margin-bottom:5px}
        .header .subtitle{color:#666;font-size:16px}
        .credits{background:rgba(0,0,0,0.8);color:#fff;padding:15px;border-radius:10px;margin-bottom:20px;text-align:center}
        .credits h3{color:#ffd700;margin-bottom:5px}
        .main-content{background:rgba(255,255,255,0.95);padding:25px;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.2);margin-bottom:20px}
        .section{margin-bottom:30px}
        .section-title{color:#333;font-size:20px;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid #667eea}
        .form-group{margin-bottom:15px}
        .form-group label{display:block;margin-bottom:5px;color:#555;font-weight:500}
        .form-group input,.form-group select{width:100%;padding:12px;border:2px solid #ddd;border-radius:8px;font-size:16px}
        .btn{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;padding:15px 30px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;width:100%;margin-top:10px;transition:all 0.3s}
        .btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,0.2)}
        .btn-stop{background:linear-gradient(135deg,#ff416c 0%,#ff4b2b 100%)}
        .btn:disabled{opacity:0.5;cursor:not-allowed}
        .stats-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:15px;margin-top:20px}
        .stat-card{background:rgba(102,126,234,0.1);border:1px solid #667eea;border-radius:10px;padding:15px;text-align:center}
        .stat-value{font-size:24px;font-weight:bold;color:#667eea}
        .stat-label{font-size:14px;color:#666;margin-top:5px}
        .log-container{margin-top:20px;max-height:400px;overflow-y:auto;border:1px solid #ddd;border-radius:8px;padding:15px;background:#f8f9fa}
        .log-entry{padding:10px;margin-bottom:8px;border-radius:5px;background:white;border-left:4px solid #667eea;font-size:13px}
        .log-entry.success{border-left-color:#28a745;background:#d4edda}
        .log-entry.error{border-left-color:#dc3545;background:#f8d7da}
        .log-entry.info{border-left-color:#17a2b8;background:#d1ecf1}
        .log-entry.warning{border-left-color:#ffc107;background:#fff3cd}
        .settings-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:15px}
        .setting-item{background:#f8f9fa;padding:12px;border-radius:8px;border:1px solid #dee2e6}
        .status-indicator{display:inline-block;width:12px;height:12px;border-radius:50%;margin-right:8px}
        .status-active{background:#28a745;animation:pulse 1.5s infinite}
        .status-inactive{background:#dc3545}
        @keyframes pulse{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}
        .cooldown-timer{text-align:center;font-size:14px;color:#666;margin-top:10px;padding:10px;background:#f8f9fa;border-radius:5px;display:none}
        .api-response{background:#e9ecef;padding:10px;border-radius:5px;margin-top:10px;font-family:monospace;font-size:12px;white-space:pre-wrap;display:none}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ FansTracker Auto Followers</h1>
            <p class="subtitle">REAL SYSTEM - Auto-earn followers from real people</p>
        </div>
        
        <div class="credits">
            <h3>üîß MADE BY SI TOOLIPOP</h3>
            <p>Tool created by SI TOOLIPOP - https://t.me/TOLLIPOPS</p>
        </div>
        
        <div class="main-content">
            <div class="section">
                <h2 class="section-title">üìù TikTok Account Settings</h2>
                <div class="form-group">
                    <label for="tiktokUsername">TikTok Username (WITHOUT @)</label>
                    <input type="text" id="tiktokUsername" placeholder="hambogngsagroro" value="hambogngsagroro">
                </div>
                <div class="form-group">
                    <label for="userId">User ID (Auto-generate if empty)</label>
                    <input type="text" id="userId" placeholder="Will auto-generate" value="">
                </div>
                <div style="background:#e7f3ff;padding:15px;border-radius:8px;margin-top:10px">
                    <p style="color:#0d6efd;margin:0">‚ö†Ô∏è <strong>IMPORTANT:</strong> Use a REAL TikTok account. Fake accounts won't receive followers.</p>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">‚öôÔ∏è Task Configuration</h2>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label>Task Type</label>
                        <select id="taskType">
                            <option value="coin.tik.follow.tier1">Tier 1 Follow (6-18 followers)</option>
                            <option value="coin.tik.follow.tier2">Tier 2 Follow (18-36 followers)</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Max Tasks</label>
                        <select id="maxTasks">
                            <option value="5">5 tasks</option>
                            <option value="10" selected>10 tasks</option>
                            <option value="20">20 tasks</option>
                            <option value="50">50 tasks</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Delay (seconds)</label>
                        <select id="taskDelay">
                            <option value="10">10s</option>
                            <option value="20">20s</option>
                            <option value="30" selected>30s</option>
                            <option value="60">60s</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">üìä Real-time Statistics</h2>
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-value" id="totalTasks">0</div>
                        <div class="stat-label">Total Tasks</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="successTasks">0</div>
                        <div class="stat-label">Success Rate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="estimatedFollowers">0</div>
                        <div class="stat-label">Est. Followers</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalCoins">0</div>
                        <div class="stat-label">Coins Earned</div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">üöÄ Control Panel</h2>
                <div style="margin-bottom:15px">
                    <span class="status-indicator status-inactive"></span>
                    <span id="statusText">Status: Ready</span>
                </div>
                <button class="btn" id="startBtn">‚ñ∂Ô∏è START AUTO FOLLOWERS</button>
                <button class="btn btn-stop" id="stopBtn" style="display:none">‚èπÔ∏è STOP AUTO FOLLOWERS</button>
                <div class="cooldown-timer" id="cooldownTimer">
                    ‚è≥ Next task in: <span id="cooldownSeconds">0</span> seconds
                </div>
                <div id="apiResponse" class="api-response"></div>
            </div>
            
            <div class="section">
                <h2 class="section-title">üìã Activity Log</h2>
                <div class="log-container" id="logContainer">
                    <div class="log-entry info">‚úÖ System initialized. Enter TikTok username and click START.</div>
                    <div class="log-entry warning">‚ö†Ô∏è This system sends REAL follow requests to REAL people.</div>
                </div>
                <div style="margin-top:10px;text-align:right">
                    <button onclick="clearLogs()" style="padding:8px 15px;background:#6c757d;color:white;border:none;border-radius:5px;cursor:pointer">Clear Logs</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let isRunning = false;
        let currentTask = 0;
        let totalTasks = 0;
        let successTasks = 0;
        let estimatedFollowers = 0;
        let totalCoins = 0;
        let cooldownInterval = null;
        
        function addLog(message, type = 'info') {
            const logContainer = document.getElementById('logContainer');
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${type}`;
            const timestamp = new Date().toLocaleTimeString();
            logEntry.innerHTML = `<strong>[${timestamp}]</strong> ${message}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }
        
        function updateStats() {
            document.getElementById('totalTasks').textContent = totalTasks;
            document.getElementById('successTasks').textContent = successTasks + "/" + totalTasks;
            document.getElementById('estimatedFollowers').textContent = estimatedFollowers;
            document.getElementById('totalCoins').textContent = totalCoins;
            
            const statusIndicator = document.querySelector('.status-indicator');
            const statusText = document.getElementById('statusText');
            
            if (isRunning) {
                statusIndicator.className = 'status-indicator status-active';
                statusText.textContent = 'Status: Running ‚Ä¢ Task #' + currentTask;
            } else {
                statusIndicator.className = 'status-indicator status-inactive';
                statusText.textContent = 'Status: Stopped';
            }
        }
        
        function showApiResponse(data) {
            const apiDiv = document.getElementById('apiResponse');
            apiDiv.textContent = JSON.stringify(data, null, 2);
            apiDiv.style.display = 'block';
        }
        
        async function executeRealTask() {
            if (!isRunning) return;
            
            const tiktokUsername = document.getElementById('tiktokUsername').value.trim();
            let userId = document.getElementById('userId').value.trim();
            const taskType = document.getElementById('taskType').value;
            
            if (!tiktokUsername) {
                addLog('‚ùå Please enter TikTok username', 'error');
                stopAutoTasks();
                return;
            }
            
            if (!userId) {
                userId = Date.now().toString();
                document.getElementById('userId').value = userId;
            }
            
            currentTask++;
            const maxTasks = parseInt(document.getElementById('maxTasks').value);
            
            if (maxTasks > 0 && currentTask > maxTasks) {
                addLog(`‚úÖ Reached maximum tasks (${maxTasks}). Stopping.`, 'success');
                stopAutoTasks();
                return;
            }
            
            addLog(`üì§ Task #${currentTask}: Sending follow request for @${tiktokUsername}...`, 'info');
            
            try {
                const response = await fetch('/api/follow-task', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        tiktokUsername: tiktokUsername,
                        userId: userId,
                        taskType: taskType
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    totalTasks++;
                    successTasks++;
                    
                    const apiData = result.data;
                    const message = apiData.data || "Follow request submitted successfully";
                    
                    addLog(`‚úÖ Task #${currentTask}: ${message}`, 'success');
                    
                    if (message.includes('Real people')) {
                        const followersMatch = message.match(/(\d+)\s+followers/);
                        if (followersMatch) {
                            const newFollowers = parseInt(followersMatch[1]);
                            estimatedFollowers += newFollowers;
                            totalCoins += newFollowers * 2;
                            addLog(`üìà Estimated to gain ${newFollowers} new followers`, 'info');
                        }
                    }
                    
                    showApiResponse(apiData);
                    
                } else {
                    totalTasks++;
                    addLog(`‚ùå Task #${currentTask} failed: ${result.message}`, 'error');
                }
                
            } catch (error) {
                totalTasks++;
                addLog(`‚ùå Task #${currentTask} error: ${error.message}`, 'error');
            }
            
            updateStats();
            
            if (isRunning) {
                const delay = parseInt(document.getElementById('taskDelay').value) * 1000;
                startCooldown(delay / 1000);
                setTimeout(executeRealTask, delay);
            }
        }
        
        function startCooldown(seconds) {
            const timerElement = document.getElementById('cooldownTimer');
            const secondsElement = document.getElementById('cooldownSeconds');
            
            timerElement.style.display = 'block';
            secondsElement.textContent = seconds;
            
            if (cooldownInterval) clearInterval(cooldownInterval);
            
            cooldownInterval = setInterval(() => {
                seconds--;
                secondsElement.textContent = seconds;
                
                if (seconds <= 0) {
                    clearInterval(cooldownInterval);
                    timerElement.style.display = 'none';
                }
            }, 1000);
        }
        
        function startAutoTasks() {
            if (isRunning) return;
            
            const tiktokUsername = document.getElementById('tiktokUsername').value.trim();
            if (!tiktokUsername) {
                alert('Please enter TikTok username!');
                return;
            }
            
            isRunning = true;
            currentTask = 0;
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('stopBtn').style.display = 'block';
            
            addLog('üöÄ STARTING AUTO FOLLOWERS SYSTEM...', 'info');
            addLog(`üéØ Target account: @${tiktokUsername}`, 'info');
            addLog(`‚öôÔ∏è Task type: ${document.getElementById('taskType').options[document.getElementById('taskType').selectedIndex].text}`, 'info');
            addLog('üì§ Sending requests to REAL people via FansTracker API...', 'warning');
            
            updateStats();
            executeRealTask();
        }
        
        function stopAutoTasks() {
            isRunning = false;
            document.getElementById('startBtn').style.display = 'block';
            document.getElementById('stopBtn').style.display = 'none';
            
            addLog('üõë Auto followers stopped', 'info');
            
            if (cooldownInterval) {
                clearInterval(cooldownInterval);
                document.getElementById('cooldownTimer').style.display = 'none';
            }
            
            updateStats();
        }
        
        function clearLogs() {
            document.getElementById('logContainer').innerHTML = 
                '<div class="log-entry info">‚úÖ Logs cleared. System ready.</div>';
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            
            document.getElementById('startBtn').addEventListener('click', startAutoTasks);
            document.getElementById('stopBtn').addEventListener('click', stopAutoTasks);
            
            document.getElementById('userId').addEventListener('focus', function() {
                if (!this.value) {
                    this.value = Date.now().toString();
                }
            });
            
            addLog('‚úÖ FansTracker Auto Followers v1.0', 'info');
            addLog('üîó Connected to: https://api.fanstrackervip.com', 'info');
        });
    </script>
</body>
</html>
